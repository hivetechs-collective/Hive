#compdef hive
# Zsh completion for Hive AI
# Generated by Hive AI Shell Integration

_hive() {
    local context state line
    typeset -A opt_args
    
    _arguments -C \
        '(-h --help)'{-h,--help}'[Show help information]' \
        '(-V --version)'{-V,--version}'[Show version information]' \
        '(-v --verbose)'{-v,--verbose}'[Increase verbosity]' \
        '(-q --quiet)'{-q,--quiet}'[Suppress output]' \
        '--format[Output format]:format:(text json yaml markdown table)' \
        '--no-color[Disable colored output]' \
        '1: :_hive_commands' \
        '*:: :->args'
    
    case $state in
        args)
            case $words[1] in
                analyze)
                    _arguments \
                        '--depth[Analysis depth]:depth:(quick standard comprehensive)' \
                        '--focus[Focus areas]:focus:(architecture quality security performance)' \
                        '--output[Save to file]:file:_files'
                    ;;
                ask)
                    _arguments \
                        '--profile[Consensus profile]:profile:(speed balanced cost elite)' \
                        '--plan[Enable planning mode]' \
                        '--context[Include context]:file:_files'
                    ;;
                shell)
                    _hive_shell_subcommands
                    ;;
                completion)
                    _arguments \
                        '--output[Output file]:file:_files' \
                        '1:shell:(bash zsh fish powershell)'
                    ;;
            esac
            ;;
    esac
}

_hive_commands() {
    local commands=(
        'analyze:Analyze and understand any repository'
        'ask:Ask the AI consensus a question'
        'consensus:Run 4-stage consensus analysis'
        'plan:Enter planning mode for complex tasks'
        'execute:Execute a previously created plan'
        'improve:Apply AI-suggested improvements'
        'search:Search for symbols in the codebase'
        'memory:Manage long-term memory'
        'analytics:Generate analytics reports'
        'config:Manage configuration settings'
        'trust:Manage directory trust settings'
        'hooks:Manage enterprise hooks'
        'shell:Manage shell integration'
        'status:Show system status'
        'completion:Generate shell completions'
        'self-update:Self-update Hive AI binary'
    )
    
    _describe 'commands' commands
}

_hive_shell_subcommands() {
    local subcommands=(
        'install:Install shell integration'
        'setup:Setup PATH and environment'
        'status:Show integration status'
        'completions:Generate completion files'
        'uninstall:Remove shell integration'
    )
    
    _describe 'shell subcommands' subcommands
}

compdef _hive hive

# Useful aliases
alias ha='hive analyze'
alias hq='hive ask'
alias hp='hive plan'
alias hs='hive search'
alias hst='hive status'