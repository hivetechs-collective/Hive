{
  "name": "auto-format",
  "description": "Automatically format code before modifications",
  "events": ["before_code_modification"],
  "conditions": {
    "type": "file_pattern",
    "pattern": "*.rs"
  },
  "actions": [
    {
      "type": "command",
      "command": "rustfmt",
      "args": ["--edition", "2021", "${file_path}"]
    }
  ],
  "priority": "high",
  "security": {
    "require_approval": false,
    "allowed_commands": ["rustfmt"],
    "stop_on_error": true
  }
}