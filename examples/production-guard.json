{
  "name": "production-guard",
  "description": "Require approval for production environment changes",
  "events": ["before_file_write", "before_code_modification"],
  "conditions": {
    "type": "and",
    "conditions": [
      {
        "type": "file_pattern", 
        "pattern": "/production/*"
      },
      {
        "type": "environment_variable",
        "name": "NODE_ENV",
        "value": "production"
      }
    ]
  },
  "actions": [
    {
      "type": "approval_request",
      "approvers": ["production-team", "security-team"],
      "message": "Production file modification requested: ${file_path}",
      "timeout_minutes": 60
    }
  ],
  "security": {
    "require_approval": true,
    "approval_message": "PRODUCTION ENVIRONMENT - Changes require approval",
    "stop_on_error": true
  },
  "metadata": {
    "tags": ["production", "security", "approval"]
  }
}