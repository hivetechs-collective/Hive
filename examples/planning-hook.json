{
  "name": "planning-notifications",
  "description": "Send notifications for planning events",
  "events": ["plan_created", "task_completed", "risk_identified"],
  "conditions": {
    "type": "or",
    "conditions": [
      {
        "type": "context_variable",
        "key": "risk_level",
        "operator": "greater_or_equal",
        "value": "high"
      },
      {
        "type": "context_variable",
        "key": "task_priority",
        "operator": "equals",
        "value": "critical"
      }
    ]
  },
  "actions": [
    {
      "type": "notification",
      "channel": "slack",
      "message": "Planning Event: ${event_type}\n${message}",
      "template": "planning-notification"
    },
    {
      "type": "http_request",
      "url": "https://api.example.com/webhooks/planning",
      "method": "POST",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer ${WEBHOOK_TOKEN}"
      },
      "body": "{\"event\": \"${event_type}\", \"data\": ${context}}"
    }
  ],
  "priority": "high",
  "metadata": {
    "tags": ["planning", "notifications", "risk-management"]
  }
}